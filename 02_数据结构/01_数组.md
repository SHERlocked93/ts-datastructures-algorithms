# 数组

[TOC]



几乎所有的编程语言都原生支持数组类型，因为数组是最简单的内存数据结构。

在 JS 中创建一个数组十分简单，可以使用数组字面量、`new Array()` 方式，其中字面量方式最为常用。

## 数组操作

数组是线性数据数据结构，在数组中，访问数据十分简单，而添加和删除数据比较耗工夫。

由于访问数组中的数据时使用的是随机访问(通过下标可计算出内存地址)，所以需要的运行时间仅为恒定的 `O(1)`。

另一方面，想要向数组中添加新数据时，必须把目标位置后面的数据一个个移开。所以，如果在数组头部添加数据，就需要 `O(n)` 的时间，删除操作同理。

然而在 JS 中，原生提供了一些很方便的操作数组的方法，使得在数组操作不像 C/C++、C#、JAVA 等语言一样复杂，这正是体现 JS 设计思想的地方，那就是入门简单便于上手，并且非常有利于简化操作复杂度。

![数组操作](https://cdn.jsdelivr.net/gh/SHERlocked93/pic@master/upic/%E6%95%B0%E7%BB%84%E6%93%8D%E4%BD%9C-20210131-69hMwg.png)

代码如下：

```typescript
const arr = [0, 1, 2, 3]

/* 数组头尾操作 */
arr.push(4)         // 将一个或多个元素添加到数组的末尾，并返回该数组的新长度
arr.pop()         		 // 从数组中删除最后一个元素，并返回该元素的值
arr.shift() 					 // 从数组中删除第一个元素，并返回该元素的值
arr.unshift(-1)     // 将一个或多个元素添加到数组的开头，并返回该数组的新长度

/* 数组切片、任意位置插入等操作 */
arr.splice(2, 1, 8, 9)  // 通过删除或替换现有元素或者原地添加新的元素来修改数组，以数组形式返回被修改的内容
arr.slice(1, 3)     	  // 返回一个新的数组对象，这一对象是一个从1到3的原数组的浅拷贝，包括1不包括3
```

`push`、`pop`、`shift`、`unshift` 这几个在数组头尾操作的方法很简单，值得注意的是 `splice` 和 `slice` 两个方法。

1. `array.splice(start[, deleteCount[, item1[, item2[, ...]]]])` ：第一个参数 `start` 是想要删除或插入的元素的索引值，参数 `deleteCount` 是删除元素的个数，第三个参数往后的 `item*`，就是要添加到数组里的值。
2. `arr.slice([start[, end]])` ：从 `start` 索引开始提取原数组元素，在 `end` 索引处结束提取，返回从 `start` 到 `end` 的所有元素（包含 `start`，但不包含 `end`）。

除了这些方法之外，JS 还提供了其他的一些实用方法，比如 `concat`、`every`、`some`、`forEach`、`keys`、`map`、`sort`、`indexOf`、`reduce` 等等，推介在 [MDN](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array) 上多加了解，这里不多加赘述。

## 二维数组和多维数组

如果一个数组的元素为数组，那么就构建成了二维数组，如果数组中数组的元素也是数组，那么就构建成了三维数组，以此类推构建成多维数组。

比如这里有个数组存储每个班级的数组，每个班级存储每个人数学成绩的数组：

```javascript
const grade7 = [      // 7年级有三个班级
  [23, 45, 64, 87, 91, 68, 85],   // 每个班级的数学成绩
  [65, 21, 34, 84, 14, 95, 26, 88],
  [45, 84, 96, 68, 85, 61, 87],
]
```

这就是某学校七年级数学成绩的二维数组，如果希望存储一个初中三个年级每个年级，每个年级的每个班级数学成绩，显而易见需要使用三维数组，如果需要每个学生元素需要存储语数外三门学科的成绩，那么就需要再加一维，这就是多维数组。

二维/多维数组在算法中很常用，后面做题的时候就会面熟了。

